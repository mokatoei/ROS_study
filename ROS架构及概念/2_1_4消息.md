## **ğŸ“Œ ROS ä¸­çš„æ¶ˆæ¯ï¼ˆMessageï¼‰**
åœ¨ ROS ä¸­ï¼Œ**æ¶ˆæ¯ï¼ˆMessageï¼‰** æ˜¯**èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œé€šä¿¡çš„åŸºæœ¬å•ä½**ï¼Œç”¨äº**è¯é¢˜ï¼ˆTopicï¼‰ã€æœåŠ¡ï¼ˆServiceï¼‰ã€åŠ¨ä½œï¼ˆActionï¼‰** ç­‰é€šä¿¡æ–¹å¼ã€‚

### **1ï¸âƒ£ ä»€ä¹ˆæ˜¯ ROS æ¶ˆæ¯ï¼Ÿ**
- ROS æ¶ˆæ¯æ˜¯ä¸€ç§**æ•°æ®ç»“æ„**ï¼Œç±»ä¼¼äº C ç»“æ„ä½“ï¼ˆ`struct`ï¼‰æˆ– Python çš„ç±»ï¼ˆ`class`ï¼‰ã€‚
- æ¯ä¸ªæ¶ˆæ¯åŒ…å«**å¤šä¸ªå­—æ®µ**ï¼Œæ¯ä¸ªå­—æ®µéƒ½æœ‰**æ•°æ®ç±»å‹**ã€‚
- ROS æ¶ˆæ¯ä¸»è¦ç”¨äº**è¯é¢˜é€šä¿¡ï¼ˆTopicï¼‰** å’Œ **æœåŠ¡é€šä¿¡ï¼ˆServiceï¼‰**ã€‚

---

## **ğŸ“Œ 2ï¸âƒ£ ROS æ¶ˆæ¯çš„ç»“æ„**
ROS æ¶ˆæ¯æ˜¯ `.msg` æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†**å­—æ®µï¼ˆFieldï¼‰** å’Œ **æ•°æ®ç±»å‹**ã€‚

### **ğŸ“ ç¤ºä¾‹ 1ï¼š`std_msgs/String.msg`**
```plaintext
string data
```
- åªæœ‰ä¸€ä¸ªå­—æ®µï¼š`data`
- ç±»å‹æ˜¯ `string`

**C++ ä»£ç ç¤ºä¾‹**
```cpp
std_msgs::String msg;
msg.data = "Hello, ROS!";
```

**Python ä»£ç ç¤ºä¾‹**
```python
msg = String()
msg.data = "Hello, ROS!"
```

---

### **ğŸ“ ç¤ºä¾‹ 2ï¼š`geometry_msgs/Pose.msg`**
```plaintext
geometry_msgs/Point position
geometry_msgs/Quaternion orientation
```
- `position` æ˜¯ `geometry_msgs/Point` ç±»å‹
- `orientation` æ˜¯ `geometry_msgs/Quaternion` ç±»å‹

è¿™æ„å‘³ç€ `Pose.msg` ä¾èµ–äº `Point.msg` å’Œ `Quaternion.msg`ï¼š
- **`Point.msg`**
  ```plaintext
  float64 x
  float64 y
  float64 z
  ```
- **`Quaternion.msg`**
  ```plaintext
  float64 x
  float64 y
  float64 z
  float64 w
  ```

---

## **ğŸ“Œ 3ï¸âƒ£ ROS æ¶ˆæ¯ç±»å‹ä¸­çš„å­—æ®µå’Œå¸¸é‡**
### **ï¼ˆ1ï¼‰å­—æ®µï¼ˆFieldï¼‰**
- **å®šä¹‰**ï¼šå­—æ®µæ˜¯æ¶ˆæ¯ç»“æ„ä¸­çš„**å˜é‡**ï¼Œç”¨äºå­˜å‚¨æ•°æ®ã€‚
- **æ•°æ®ç±»å‹**ï¼šæ¯ä¸ªå­—æ®µéƒ½æœ‰ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼ˆ`int32`ã€`float64`ã€`string` ç­‰ï¼‰ã€‚
- **ç¤ºä¾‹**
  ```plaintext
  int32 number
  float64 velocity
  string name
  ```

### **ï¼ˆ2ï¼‰å¸¸é‡ï¼ˆConstantï¼‰**
- **å®šä¹‰**ï¼šå¸¸é‡æ˜¯**åªè¯»å˜é‡**ï¼Œåœ¨æ¶ˆæ¯ç»“æ„ä¸­ä¸å¯æ›´æ”¹ï¼Œé€šå¸¸ç”¨äºå®šä¹‰**å›ºå®šå€¼**æˆ–**æ ‡è¯†ç¬¦**ã€‚
- **æ ¼å¼**ï¼š
  ```plaintext
  TYPE CONSTANT_NAME = VALUE
  ```
- **ç¤ºä¾‹**
  ```plaintext
  int32 PI = 3
  string GREETING = "Hello, ROS!"
  ```

- **ç¤ºä¾‹ï¼š`sensor_msgs/BatteryState.msg`**
  ```plaintext
  float32 power_supply_voltage
  float32 power_supply_current
  uint8 POWER_SUPPLY_STATUS_UNKNOWN = 0
  uint8 POWER_SUPPLY_STATUS_CHARGING = 1
  uint8 POWER_SUPPLY_STATUS_DISCHARGING = 2
  ```
  - `power_supply_voltage` å’Œ `power_supply_current` æ˜¯å­—æ®µï¼ˆå¯å˜ï¼‰ã€‚
  - `POWER_SUPPLY_STATUS_UNKNOWN`ã€`POWER_SUPPLY_STATUS_CHARGING` æ˜¯**å¸¸é‡**ï¼ˆä¸å¯å˜ï¼‰ã€‚

---

## **ğŸ“Œ 4ï¸âƒ£ ROS çš„æ ‡å‡†æ•°æ®ç±»å‹**
ROS æä¾›äº†ä¸€äº›**æ ‡å‡†æ•°æ®ç±»å‹**ï¼Œç”¨äºå®šä¹‰æ¶ˆæ¯çš„å­—æ®µã€‚

### **ğŸ“ åŸºæœ¬æ•°æ®ç±»å‹**
| æ•°æ®ç±»å‹ | å«ä¹‰ |
|---------|-----|
| `bool`  | å¸ƒå°”å€¼ï¼ˆ`true/false`ï¼‰ |
| `int8`ã€`int16`ã€`int32`ã€`int64` | æœ‰ç¬¦å·æ•´æ•° |
| `uint8`ã€`uint16`ã€`uint32`ã€`uint64` | æ— ç¬¦å·æ•´æ•° |
| `float32`ã€`float64` | æµ®ç‚¹æ•° |
| `string` | å­—ç¬¦ä¸² |
| `time` | æ—¶é—´æˆ³ |
| `duration` | æ—¶é—´é—´éš” |

### **ğŸ“ å¤åˆæ•°æ®ç±»å‹**
| ç±»å‹ | å«ä¹‰ |
|------|-----|
| `geometry_msgs/Point` | 3D ç‚¹ï¼ˆ`x, y, z`ï¼‰ |
| `geometry_msgs/Quaternion` | æ—‹è½¬å››å…ƒæ•°ï¼ˆ`x, y, z, w`ï¼‰ |
| `geometry_msgs/Twist` | çº¿é€Ÿåº¦ + è§’é€Ÿåº¦ |
| `sensor_msgs/Image` | å›¾åƒæ•°æ® |
| `sensor_msgs/LaserScan` | æ¿€å…‰é›·è¾¾æ‰«ææ•°æ® |
| `nav_msgs/Odometry` | æœºå™¨äººé‡Œç¨‹è®¡æ•°æ® |

### **ğŸ“ æ•°ç»„ç±»å‹**
- **æ ¼å¼**ï¼š`ç±»å‹[] å˜é‡å`
- **ç¤ºä¾‹**
  ```plaintext
  float64[] data
  string[] names
  ```
- **C++ ç¤ºä¾‹**
  ```cpp
  std_msgs::Float64MultiArray msg;
  msg.data = {1.1, 2.2, 3.3};
  ```
- **Python ç¤ºä¾‹**
  ```python
  msg = Float64MultiArray()
  msg.data = [1.1, 2.2, 3.3]
  ```

---

## **ğŸ“Œ 5ï¸âƒ£ è‡ªå®šä¹‰ ROS æ¶ˆæ¯**
é™¤äº† ROS æä¾›çš„æ ‡å‡†æ¶ˆæ¯ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»º**è‡ªå®šä¹‰æ¶ˆæ¯**ã€‚

### **ğŸ“ 5.1 åˆ›å»ºè‡ªå®šä¹‰æ¶ˆæ¯**
1. **è¿›å…¥åŠŸèƒ½åŒ…**
   ```bash
   cd ~/catkin_ws/src/my_pkg
   ```
2. **åˆ›å»º `msg` ç›®å½•**
   ```bash
   mkdir msg
   ```
3. **ç¼–å†™ `Person.msg`**
   ```plaintext
   string name
   int32 age
   float64 height
   ```
4. **ä¿®æ”¹ `CMakeLists.txt`**
   æ·»åŠ ï¼š
   ```cmake
   find_package(catkin REQUIRED COMPONENTS message_generation)
   add_message_files(FILES Person.msg)
   generate_messages(DEPENDENCIES std_msgs)
   ```
5. **ä¿®æ”¹ `package.xml`**
   æ·»åŠ ï¼š
   ```xml
   <build_depend>message_generation</build_depend>
   <exec_depend>message_runtime</exec_depend>
   ```
6. **ç¼–è¯‘**
   ```bash
   cd ~/catkin_ws
   catkin_make
   ```
7. **æ£€æŸ¥**
   ```bash
   rosmsg show my_pkg/Person
   ```

---

## **ğŸ“Œ 6ï¸âƒ£ æ€»ç»“**
1. **æ¶ˆæ¯ï¼ˆMessageï¼‰** æ˜¯ ROS é€šä¿¡çš„åŸºæœ¬å•ä½ï¼Œå®šä¹‰äº†**æ•°æ®ç»“æ„**ã€‚
2. **å­—æ®µï¼ˆFieldï¼‰** æ˜¯æ¶ˆæ¯çš„å˜é‡ï¼Œæ¯ä¸ªå­—æ®µéƒ½æœ‰ä¸€ä¸ª**æ•°æ®ç±»å‹**ã€‚
3. **å¸¸é‡ï¼ˆConstantï¼‰** æ˜¯åªè¯»å˜é‡ï¼Œæ¶ˆæ¯ä¸­ä¸å¯æ›´æ”¹ã€‚
4. **ROS æä¾›æ ‡å‡†æ•°æ®ç±»å‹**ï¼ˆ`int32`ã€`float64`ã€`string` ç­‰ï¼‰ã€‚
5. **å¯ä»¥è‡ªå®šä¹‰æ¶ˆæ¯**ï¼ˆ`.msg` æ–‡ä»¶ï¼‰ï¼Œç„¶ååœ¨ `CMakeLists.txt` é‡Œé…ç½®ã€‚

ğŸ“Œ **é€šè¿‡è¯é¢˜ï¼ˆTopicï¼‰ã€æœåŠ¡ï¼ˆServiceï¼‰ã€åŠ¨ä½œï¼ˆActionï¼‰ç­‰æ–¹å¼ï¼ŒROS æ¶ˆæ¯åœ¨ä¸åŒèŠ‚ç‚¹ä¹‹é—´ä¼ è¾“ï¼Œå®ç°æ•°æ®é€šä¿¡ã€‚** 